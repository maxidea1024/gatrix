# 제 3장: 사용자 관리 (User Management)

사용자 관리는 대시보드에 접속할 수 있는 운영자 계정을 관리하고 권한을 제어하는 기능입니다. 이 챕터에서는 단순한 기능 설명을 넘어, 입사/퇴사 등 실제 업무 상황에서의 처리 절차를 안내합니다.

**경로:** 관리 (Admin) → 사용자 (Users)  
**필요 권한:** `users_manage` (수정 시), `users_view` (조회 시)

---

## 1. 역할(Role) 및 권한 구조

Gatrix의 권한 시스템은 **역할(Role)**과 **세부 권한(Permissions)**의 조합으로 이루어집니다.

### 역할 (Role)
사용자의 기본적인 등급을 결정합니다.

| 역할 | 설명 | 추천 대상 |
|---|---|---|
| **User** | 기본 사용자. **조회(View)** 기능 위주입니다. 데이터를 수정하거나 삭제할 수 없습니다. | 신규 입사자, 단순 모니터링 담당자, 타 부서 참관인 |
| **Admin** | 관리자. 대부분의 **수정(Edit)** 권한을 가질 수 있습니다. | 게임 운영자, 사업 PM, QA 담당자, 개발자 |

### 세부 권한 (Permissions)
Admin 역할이라도 모든 것을 할 수 있는 것은 아닙니다. 업무에 필요한 권한만 콕 집어서 부여하세요.

- **`users_manage`**: 동료 계정을 생성하거나 자를 수 있습니다. (팀장급)
- **`game-worlds_manage`**: 서버 상태를 바꿀 수 있습니다. (서버/인프라 담당)
- **`coupons_manage`**: 쿠폰을 발행할 수 있습니다. (사업/마케팅 담당)
- **`audit-logs_view`**: 누가 뭘 했는지 감시할 수 있습니다. (보안 담당)

---

## 2. 상황별 업무 가이드 (Scenarios)

### 상황 A: 신규 운영자 입사 시 (온보딩)

신규 GM '홍길동'님이 입사했습니다. 계정을 어떻게 세팅해야 할까요?

1. **[+ 사용자 초대]** 버튼 클릭
2. **이메일:** `gildong.hong@company.com` 입력
3. **역할:** 초기 적응을 위해 `User` 역할 부여 권장 (실수 방지)
4. **초대장 발송:** 링크를 복사하여 메신저로 전달
5. **가입 대기:** 홍길동님이 링크를 통해 비밀번호를 설정하고 가입 완료
6. **승인:** 관리자가 목록에서 홍길동님을 찾아 `Pending` → `Active`로 변경
7. **권한 조정:** 업무에 익숙해지면 `Admin`으로 승격하고 필요한 세부 권한(예: 공지사항 작성) 추가

### 상황 B: 담당자가 휴가/출장 갔을 때

특정 담당자만의 권한이 필요할 때가 있습니다. (예: 쿠폰 발행 권한이 김철수님에게만 있었는데 휴가를 감)

- **절대 비밀번호를 공유받지 마세요.** (보안 위반)
- 최고 관리자에게 요청하여 **대행자의 계정에 임시로 권한을 부여**받으세요.
- 휴가 복귀 후 다시 권한을 회수하면 됩니다.

### 상황 C: 운영자 퇴사 시 (오프보딩)

보안 사고 방지를 위해 퇴사 즉시 접근을 차단해야 합니다.

1. 사용자 목록에서 퇴사자 검색
2. **일시정지 (Suspend)** 버튼 클릭 (즉시 로그아웃됨)
3. **권한 회수:** 모든 체크박스 해제
4. **기록 보존:** 계정을 바로 **삭제하지 마세요.** 삭제하면 과거 로그(Audit Log)에서 퇴사자의 이름이 사라져서 "알 수 없는 사용자"로 뜰 수 있습니다. 1~3개월 후 삭제하는 것이 좋습니다.

---

## 3. 자주 묻는 질문 (FAQ) & 문제 해결

**Q: 초대 메일이 안 온다고 합니다.**  
A: 스팸 메일함을 먼저 확인해 주세요. 그래도 없다면, 초대 링크의 유효기간이 만료되었을 수 있습니다. 기존 초대를 삭제하고 다시 초대를 생성하여 링크를 직접 메신저로 전달해 주세요.

**Q: 갑자기 "권한이 없습니다(403 Forbidden)"라고 뜹니다.**  
A: 관리자가 귀하의 권한 설정을 변경했을 수 있습니다. 또는 접속하려는 환경(Environment)에 대한 접근 권한이 없을 수도 있습니다. 팀장님께 문의하세요.

**Q: 실수로 동료 계정을 정지시켰습니다.**  
A: 당황하지 마세요. 목록에서 다시 **재생(▶)** 버튼을 누르면 즉시 복구됩니다.

**Q: 비밀번호를 5회 틀려서 잠겼다고 합니다.**  
A: 보안 정책상 잠긴 것입니다. 관리자 화면에서 해당 사용자의 상세 페이지로 들어가 **[비밀번호 초기화 메일 발송]**을 눌러주세요.

---

**팁:** 운영 툴에서의 실수는 실제 라이브 서비스 사고로 이어집니다. 
*"권한은 최소한으로 주고, 필요할 때 늘린다"*는 원칙(Principle of Least Privilege)을 항상 기억하세요.

---

**이전 장:** [← 제 2장: 대시보드 개요](02-dashboard.md)  
**다음 장:** [제 4장: API 토큰 관리 →](17-api-tokens.md)
