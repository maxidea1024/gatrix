import json
import os

def update_json(filepath, sidebar_cr, sidebar_el, cr_plural_msg, cr_obj):
    with open(filepath, 'r', encoding='utf-8') as f:
        data = json.load(f)
    
    # 1. Add sidebar keys at the top (well, as keys)
    data["sidebar.changeRequests"] = sidebar_cr
    data["sidebar.eventLens"] = sidebar_el
    
    # 2. Add changeRequests plural object
    data["changeRequests"] = {
        "createdForReview": cr_plural_msg
    }
    
    # 3. Add/Update changeRequest singular object
    data["changeRequest"] = cr_obj
    
    with open(filepath, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)

# Korean
ko_cr_obj = {
    "title": "변경 요청",
    "details": "상세 정보",
    "description": "설명",
    "reason": "변경 사유",
    "impactAnalysis": "영향 분석",
    "status": "상태",
    "titleField": "제목",
    "requester": "요청자",
    "priorityField": "우선순위",
    "items": "항목 수",
    "approvalProgress": "승인 현황",
    "lastUpdated": "최종 수정",
    "actions": "작업",
    "changeItems": "변경 항목",
    "targetTable": "대상 테이블",
    "targetId": "대상 ID",
    "approvals": "승인 내역",
    "noRequests": "변경 요청이 없습니다.",
    "confirmDelete": "이 변경 요청을 삭제하시겠습니까?",
    "status.draft": "초안",
    "status.open": "검토중",
    "status.approved": "승인됨",
    "status.applied": "적용됨",
    "status.rejected": "거절됨",
    "priority.low": "낮음",
    "priority.medium": "보통",
    "priority.high": "높음",
    "priority.critical": "긴급",
    "tabs.all": "전체",
    "tabs.draft": "초안",
    "tabs.open": "검토중",
    "tabs.approved": "승인됨",
    "tabs.applied": "적용됨",
    "tabs.rejected": "거절됨",
    "actions.submit": "제출",
    "actions.approve": "승인",
    "actions.reject": "거절",
    "actions.reopen": "재오픈",
    "actions.execute": "적용",
    "messages.submitted": "변경 요청이 제출되었습니다.",
    "messages.approved": "변경 요청이 승인되었습니다.",
    "messages.rejected": "변경 요청이 거절되었습니다.",
    "messages.reopened": "변경 요청이 재오픈되었습니다.",
    "messages.executed": "변경 요청이 적용되었습니다.",
    "messages.deleted": "변경 요청이 삭제되었습니다.",
    "errors.rejectCommentRequired": "거절 사유를 입력해주세요.",
    "rejectDialog.title": "변경 요청 거절",
    "rejectDialog.description": "거절 사유를 입력해주세요. 요청자가 수정 후 다시 제출할 수 있습니다.",
    "rejectDialog.comment": "거절 사유",
    "operationCreate": "생성",
    "operationModify": "수정",
    "operationDelete": "삭제",
    "showAll": "전체 보기",
    "showChangesOnly": "변경사항만 보기",
    "field": "필드",
    "oldValue": "이전 값",
    "newValue": "변경 후",
    "noChanges": "변경사항이 없습니다.",
    "submitDialog.title": "변경 요청 제출",
    "submitDialog.description": "변경 요청을 제출하려면 제목과 변경 사유를 입력해주세요.",
    "submitDialog.titleField": "제목",
    "submitDialog.reason": "변경 사유",
    "errors.submitFieldsRequired": "제목과 변경 사유를 모두 입력해주세요.",
    "createdForReview": "변경 요청이 생성되었습니다. 승인 후 적용됩니다.",
    "pendingReviewBanner": "승인 대기 중인 변경 요청이 {{count}}건 있습니다. 클릭하여 검토하세요.",
    "rejectionInfo": "거부 정보",
    "rejectedBy": "거부자",
    "rejectedAt": "거부 일시",
    "rejectionReason": "거부 사유",
    "reopenDialog.title": "변경 요청 재오픈",
    "reopenDialog.description": "이 변경 요청을 재오픈하여 수정 후 다시 제출하시겠습니까?",
    "wantsToMerge": "님이 병합을 요청합니다",
    "changes": "개 변경사항",
    "conversation": "대화",
    "filesChanged": "변경 내역",
    "commented": "님이 코멘트를 남겼습니다",
    "noDescription": "설명 없음",
    "addReview": "리뷰 추가",
    "leaveComment": "코멘트를 입력하세요...",
    "actions.requestChanges": "변경 요청",
    "actions.readyForReview": "리뷰 준비 완료",
    "actions.merge": "병합",
    "timeline.submitted": "님이 리뷰를 요청했습니다",
    "timeline.approved": "님이 승인했습니다",
    "timeline.rejected": "님이 변경을 요청했습니다",
    "timeline.executed": "님이 변경사항을 병합했습니다",
    "changesRequested": "변경이 요청되었습니다. 수정 후 다시 제출할 수 있습니다.",
    "readyToMerge": "모든 검토가 완료되었습니다. 병합 준비가 되었습니다.",
    "approvals": "개 승인",
    "draftMessage": "초안입니다. 준비가 되면 리뷰를 요청하세요.",
    "reviewers": "리뷰어",
    "noReviewersYet": "아직 리뷰어가 없습니다"
}

# English
en_cr_obj = {
    "title": "Change Requests",
    "details": "Details",
    "description": "Description",
    "reason": "Reason",
    "impactAnalysis": "Impact Analysis",
    "status": "Status",
    "titleField": "Title",
    "requester": "Requester",
    "priorityField": "Priority",
    "items": "Items",
    "approvalProgress": "Approval Progress",
    "lastUpdated": "Last Updated",
    "actions": "Actions",
    "changeItems": "Change Items",
    "targetTable": "Target Table",
    "targetId": "Target ID",
    "approvals": "Approvals",
    "noRequests": "No change requests found.",
    "confirmDelete": "Delete this change request?",
    "status.draft": "Draft",
    "status.open": "Open",
    "status.approved": "Approved",
    "status.applied": "Applied",
    "status.rejected": "Rejected",
    "priority.low": "Low",
    "priority.medium": "Medium",
    "priority.high": "High",
    "priority.critical": "Critical",
    "tabs.all": "All",
    "tabs.draft": "Draft",
    "tabs.open": "Open",
    "tabs.approved": "Approved",
    "tabs.applied": "Applied",
    "tabs.rejected": "Rejected",
    "actions.submit": "Submit",
    "actions.approve": "Approve",
    "actions.reject": "Reject",
    "actions.reopen": "Reopen",
    "actions.execute": "Execute",
    "messages.submitted": "Change request submitted.",
    "messages.approved": "Change request approved.",
    "messages.rejected": "Change request rejected.",
    "messages.reopened": "Change request reopened.",
    "messages.executed": "Change request executed.",
    "messages.deleted": "Change request deleted.",
    "errors.rejectCommentRequired": "Please enter rejection reason.",
    "errors.submitFieldsRequired": "Please enter both title and reason.",
    "rejectDialog.title": "Reject Change Request",
    "rejectDialog.description": "Enter rejection reason. Requester can revise and resubmit.",
    "rejectDialog.comment": "Rejection Reason",
    "operationCreate": "Create",
    "operationModify": "Modify",
    "operationDelete": "Delete",
    "showAll": "Show All",
    "showChangesOnly": "Changes Only",
    "field": "Field",
    "oldValue": "Previous",
    "newValue": "New Value",
    "noChanges": "No changes.",
    "submitDialog.title": "Submit Change Request",
    "submitDialog.description": "Enter title and reason to submit.",
    "submitDialog.titleField": "Title",
    "submitDialog.reason": "Reason",
    "createdForReview": "Change request created. Will be applied after approval.",
    "pendingReviewBanner": "{{count}} change request(s) pending. Click to review.",
    "rejectionInfo": "Rejection Info",
    "rejectedBy": "Rejected By",
    "rejectedAt": "Rejected At",
    "rejectionReason": "Rejection Reason",
    "reopenDialog.title": "Reopen Change Request",
    "reopenDialog.description": "Reopen to modify and resubmit?",
    "wantsToMerge": "wants to merge",
    "changes": "change(s)",
    "conversation": "Conversation",
    "filesChanged": "Changes",
    "commented": "commented",
    "noDescription": "No description provided",
    "addReview": "Add your review",
    "leaveComment": "Leave a comment...",
    "actions.requestChanges": "Request changes",
    "actions.readyForReview": "Ready for review",
    "actions.merge": "Merge",
    "timeline.submitted": "requested a review",
    "timeline.approved": "approved these changes",
    "timeline.rejected": "requested changes",
    "timeline.executed": "merged these changes",
    "changesRequested": "Changes were requested. You can modify and resubmit.",
    "readyToMerge": "All checks passed. Ready to merge.",
    "approvals": "approval(s)",
    "draftMessage": "This is a draft. Submit for review when ready.",
    "reviewers": "Reviewers",
    "noReviewersYet": "No reviewers yet"
}

# Chinese
zh_cr_obj = {
    "title": "变更请求",
    "details": "详情",
    "description": "描述",
    "reason": "原因",
    "impactAnalysis": "影响分析",
    "status": "状态",
    "titleField": "标题",
    "requester": "请求者",
    "priorityField": "优先级",
    "items": "项目数",
    "approvalProgress": "审核进度",
    "lastUpdated": "最后更新",
    "actions": "操作",
    "changeItems": "变更项目",
    "targetTable": "目标表",
    "targetId": "目标 ID",
    "approvals": "审核记录",
    "noRequests": "暂无变更请求。",
    "confirmDelete": "确定删除此变更请求？",
    "status.draft": "草稿",
    "status.open": "审核中",
    "status.approved": "已批准",
    "status.applied": "已应用",
    "status.rejected": "已拒绝",
    "priority.low": "低",
    "priority.medium": "中",
    "priority.high": "高",
    "priority.critical": "紧急",
    "tabs.all": "全部",
    "tabs.draft": "草稿",
    "tabs.open": "审核中",
    "tabs.approved": "已批准",
    "tabs.applied": "已应用",
    "tabs.rejected": "已拒绝",
    "actions.submit": "提交",
    "actions.approve": "批准",
    "actions.reject": "拒绝",
    "actions.reopen": "重新打开",
    "actions.execute": "应用",
    "messages.submitted": "变更请求已提交。",
    "messages.approved": "变更请求已批准。",
    "messages.rejected": "变更请求已拒绝。",
    "messages.reopened": "变更请求已重新打开。",
    "messages.executed": "变更请求已应用。",
    "messages.deleted": "变更请求已删除。",
    "errors.rejectCommentRequired": "请输入拒绝原因。",
    "errors.submitFieldsRequired": "请输入标题和原因。",
    "rejectDialog.title": "拒绝变更请求",
    "rejectDialog.description": "输入拒绝原因。请求者可以修改后重新提交。",
    "rejectDialog.comment": "拒绝原因",
    "operationCreate": "创建",
    "operationModify": "修改",
    "operationDelete": "删除",
    "showAll": "显示全部",
    "showChangesOnly": "仅显示变更",
    "field": "字段",
    "oldValue": "之前的值",
    "newValue": "新值",
    "noChanges": "暂无变更。",
    "submitDialog.title": "提交变更请求",
    "submitDialog.description": "输入标题和原因以提交。",
    "submitDialog.titleField": "标题",
    "submitDialog.reason": "原因",
    "createdForReview": "变更请求已创建，批准后将应用。",
    "pendingReviewBanner": "有 {{count}} 个变更请求待审核。点击查看。",
    "rejectionInfo": "拒绝信息",
    "rejectedBy": "拒绝人",
    "rejectedAt": "拒绝时间",
    "rejectionReason": "拒绝原因",
    "reopenDialog.title": "重新打开变更请求",
    "reopenDialog.description": "重新打开以修改并重新提交？",
    "wantsToMerge": "想要合并",
    "changes": "个变更",
    "conversation": "对话",
    "filesChanged": "变更内容",
    "commented": "评论于",
    "noDescription": "无描述",
    "addReview": "添加审核",
    "leaveComment": "留下评论...",
    "actions.requestChanges": "请求变更",
    "actions.readyForReview": "准备审核",
    "actions.merge": "合并",
    "timeline.submitted": "提交了审核请求",
    "timeline.approved": "批准了这些变更",
    "timeline.rejected": "请求了变更",
    "timeline.executed": "合并了这些变更",
    "changesRequested": "已请求变更。您可以修改后重新提交。",
    "readyToMerge": "所有检查已通过。准备合并。",
    "approvals": "个批准",
    "draftMessage": "这是草稿。准备好后提交审核。",
    "reviewers": "审核人",
    "noReviewersYet": "暂无审核人"
}

update_json('packages/frontend/src/locales/ko.json', '변경 요청', '이벤트 렌즈', '변경 요청이 생성되었습니다. 승인 후 적용됩니다.', ko_cr_obj)
update_json('packages/frontend/src/locales/en.json', 'Change Requests', 'EventLens', 'Change request created. Will be applied after approval.', en_cr_obj)
update_json('packages/frontend/src/locales/zh.json', '变更请求', 'EventLens', '变更请求已创建，批准后将应用。', zh_cr_obj)
