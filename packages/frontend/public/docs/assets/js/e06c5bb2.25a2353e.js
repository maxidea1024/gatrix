"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3252],{8453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},8563(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"features/feature-flags","title":"Feature Flags","description":"Deploy features safely using feature flags with real-time toggling, environment targeting, segment-based rollouts, and multi-platform SDK support.","source":"@site/docs/features/feature-flags.md","sourceDirName":"features","slug":"/features/feature-flags","permalink":"/docs/features/feature-flags","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/gatrix/tree/main/docs/docs/features/feature-flags.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Feature Flags"},"sidebar":"tutorialSidebar","previous":{"title":"Configuration Guide","permalink":"/docs/getting-started/configuration"},"next":{"title":"Segments","permalink":"/docs/features/segments"}}');var i=s(4848),t=s(8453);const l={sidebar_position:1,sidebar_label:"Feature Flags"},d="Feature Flags",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Key Capabilities",id:"key-capabilities",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Evaluation Model",id:"evaluation-model",level:3},{value:"Key Design Decisions",id:"key-design-decisions",level:3},{value:"Creating a Feature Flag",id:"creating-a-feature-flag",level:2},{value:"Flag Types (Purpose)",id:"flag-types-purpose",level:3},{value:"Value Types",id:"value-types",level:3},{value:"Per-Environment Settings",id:"per-environment-settings",level:2},{value:"Example: \ud658\uacbd\ubcc4 \uc124\uc815 (Environment-Specific Settings)",id:"example-\ud658\uacbd\ubcc4-\uc124\uc815-environment-specific-settings",level:3},{value:"Strategies",id:"strategies",level:2},{value:"Strategy Evaluation Flow",id:"strategy-evaluation-flow",level:3},{value:"Strategy Parameters",id:"strategy-parameters",level:3},{value:"Rollout Bucketing",id:"rollout-bucketing",level:3},{value:"Constraints",id:"constraints",level:2},{value:"Constraint Structure",id:"constraint-structure",level:3},{value:"Operators by Type",id:"operators-by-type",level:3},{value:"String Operators",id:"string-operators",level:4},{value:"Number Operators",id:"number-operators",level:4},{value:"Boolean Operators",id:"boolean-operators",level:4},{value:"Date Operators",id:"date-operators",level:4},{value:"Semver Operators",id:"semver-operators",level:4},{value:"Common Operators (Type-Agnostic)",id:"common-operators-type-agnostic",level:4},{value:"Array Operators",id:"array-operators",level:4},{value:"The <code>inverted</code> Flag",id:"the-inverted-flag",level:3},{value:"Segments",id:"segments",level:2},{value:"Segment Structure",id:"segment-structure",level:3},{value:"Creating a Segment",id:"creating-a-segment",level:3},{value:"Using Segments in Strategies",id:"using-segments-in-strategies",level:3},{value:"Example: Beta Testers Segment",id:"example-beta-testers-segment",level:3},{value:"Context",id:"context",level:2},{value:"Evaluation Context Structure",id:"evaluation-context-structure",level:3},{value:"Built-in Context Fields",id:"built-in-context-fields",level:3},{value:"Custom Context Fields (Properties)",id:"custom-context-fields-properties",level:3},{value:"Predefined Custom Fields",id:"predefined-custom-fields",level:3},{value:"Variants",id:"variants",level:2},{value:"Variant Structure",id:"variant-structure",level:3},{value:"Variant Selection",id:"variant-selection",level:3},{value:"Reserved Variant Names",id:"reserved-variant-names",level:3},{value:"SDK Usage",id:"sdk-usage",level:2},{value:"Available Client SDKs",id:"available-client-sdks",level:3},{value:"SDK Lifecycle",id:"sdk-lifecycle",level:3},{value:"Initialization",id:"initialization",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Flag Access Methods",id:"flag-access-methods",level:3},{value:"Basic Access",id:"basic-access",level:4},{value:"Typed Variations (Fallback Value Required)",id:"typed-variations-fallback-value-required",level:4},{value:"Variation Details",id:"variation-details",level:4},{value:"Strict Variations (OrThrow)",id:"strict-variations-orthrow",level:4},{value:"FlagProxy",id:"flagproxy",level:4},{value:"Context Management",id:"context-management",level:3},{value:"Watch Pattern (Reactive Updates)",id:"watch-pattern-reactive-updates",level:3},{value:"Watch Groups",id:"watch-groups",level:4},{value:"Explicit Sync Mode",id:"explicit-sync-mode",level:3},{value:"How It Works",id:"how-it-works",level:4},{value:"Runtime Mode Switching",id:"runtime-mode-switching",level:4},{value:"Events",id:"events",level:3},{value:"Polling &amp; Error Resilience",id:"polling--error-resilience",level:3},{value:"Offline Mode &amp; Bootstrap",id:"offline-mode--bootstrap",level:3},{value:"Storage Provider",id:"storage-provider",level:3},{value:"Metrics",id:"metrics",level:3},{value:"SDK Statistics",id:"sdk-statistics",level:3},{value:"Platform-Specific Examples",id:"platform-specific-examples",level:2},{value:"Unity (C#)",id:"unity-c",level:3},{value:"Unreal Engine (C++)",id:"unreal-engine-c",level:3},{value:"Flutter (Dart)",id:"flutter-dart",level:3},{value:"Godot (GDScript)",id:"godot-gdscript",level:3},{value:"Python",id:"python",level:3},{value:"HTTP Headers",id:"http-headers",level:2},{value:"Evaluation Result",id:"evaluation-result",level:2},{value:"Evaluation Reasons",id:"evaluation-reasons",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Flag Design",id:"flag-design",level:3},{value:"SDK Usage",id:"sdk-usage-1",level:3},{value:"Performance",id:"performance",level:3},{value:"See Also",id:"see-also",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"feature-flags",children:"Feature Flags"})}),"\n",(0,i.jsx)(n.p,{children:"Deploy features safely using feature flags with real-time toggling, environment targeting, segment-based rollouts, and multi-platform SDK support."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["Gatrix Feature Flags allow you to control feature availability without code deployment. Flags are defined ",(0,i.jsx)(n.strong,{children:"globally"})," and can have ",(0,i.jsx)(n.strong,{children:"per-environment"})," settings (enabled/disabled, value overrides). Evaluation is performed ",(0,i.jsx)(n.strong,{children:"server-side"})," \u2014 client SDKs send context, receive pre-evaluated results, and cache them locally for zero-latency reads."]}),"\n",(0,i.jsx)(n.h3,{id:"key-capabilities",children:"Key Capabilities"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Real-time toggling"})," \u2014 Enable/disable features instantly across all connected clients"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Environment targeting"})," \u2014 Per-environment on/off and value overrides (development, staging, production)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Segment targeting"})," \u2014 Reusable user groups based on context constraints"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Strategy-based rollout"})," \u2014 Gradual rollout with percentage, segment constraints, and stickiness"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multi-platform SDKs"})," \u2014 JavaScript/TypeScript, Unity (C#), Unreal Engine (C++), Cocos2d-x (C++), Flutter (Dart), Godot (GDScript), Python"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Impression tracking"})," \u2014 Monitor flag access for analytics"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Explicit Sync Mode"})," \u2014 Buffer flag changes and apply at controlled sync points (critical for games)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Code References"})," \u2014 Static analysis to track flag usage across your codebase"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,i.jsx)(n.h3,{id:"evaluation-model",children:"Evaluation Model"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Client SDK       \u2502\u2500context\u2500\u25b6   Edge API       \u2502\u2500eval\u2500\u2500\u25b6 \u2502  Evaluator   \u2502\n\u2502   (cache + poll)   \u2502\u25c0\u2500result\u2500\u2502   (or Backend)   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502  (shared)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Client SDK sends ",(0,i.jsx)(n.strong,{children:"context"})," (userId, sessionId, properties) to the Edge API"]}),"\n",(0,i.jsxs)(n.li,{children:["Server evaluates all flags against provided context using ",(0,i.jsx)(n.strong,{children:"strategies"}),", ",(0,i.jsx)(n.strong,{children:"constraints"}),", and ",(0,i.jsx)(n.strong,{children:"segments"})]}),"\n",(0,i.jsx)(n.li,{children:"Pre-evaluated results are returned to the client"}),"\n",(0,i.jsx)(n.li,{children:"Client caches results locally for zero-latency reads"}),"\n",(0,i.jsx)(n.li,{children:"SDK polls periodically (default: 30s) for updates"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"key-design-decisions",children:"Key Design Decisions"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Flags are global"})," \u2014 A flag is defined once, not per environment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Environments control activation"})," \u2014 Each environment has its own ",(0,i.jsx)(n.code,{children:"isEnabled"}),", ",(0,i.jsx)(n.code,{children:"enabledValue"}),", ",(0,i.jsx)(n.code,{children:"disabledValue"})," overrides"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Strategies are per-environment"})," \u2014 Targeting rules are configured per environment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Variants are per-environment"})," \u2014 A/B test distributions can differ across environments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Segments are global"})," \u2014 Reusable across all flags and environments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"isArchived"})," is management-only"]})," \u2014 Archived flags still evaluate normally; archival is a UI/governance concept"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-feature-flag",children:"Creating a Feature Flag"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"Feature Flags"})," in the admin console"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create Flag"})]}),"\n",(0,i.jsx)(n.li,{children:"Configure the flag:"}),"\n"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Key (",(0,i.jsx)(n.code,{children:"flagName"}),")"]}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsxs)(n.td,{children:["Unique identifier (e.g., ",(0,i.jsx)(n.code,{children:"new-checkout-flow"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Display Name"}),(0,i.jsx)(n.td,{children:"Text"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"Human-readable display name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Description"}),(0,i.jsx)(n.td,{children:"Textarea"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Purpose and context description"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Flag Type (",(0,i.jsx)(n.code,{children:"flagType"}),")"]}),(0,i.jsx)(n.td,{children:"Select"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"Purpose category (see below)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Value Type (",(0,i.jsx)(n.code,{children:"valueType"}),")"]}),(0,i.jsx)(n.td,{children:"Select"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"boolean"}),", ",(0,i.jsx)(n.code,{children:"string"}),", ",(0,i.jsx)(n.code,{children:"number"}),", ",(0,i.jsx)(n.code,{children:"json"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Enabled Value"}),(0,i.jsx)(n.td,{children:"Dynamic"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"Value returned when flag evaluates to enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Disabled Value"}),(0,i.jsx)(n.td,{children:"Dynamic"}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{children:"Value returned when flag evaluates to disabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Impression Data"}),(0,i.jsx)(n.td,{children:"Toggle"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Enable impression tracking for this flag"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Stale After (days)"}),(0,i.jsx)(n.td,{children:"Number"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Flag is considered stale after this many days"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Tags"}),(0,i.jsx)(n.td,{children:"Tags"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Categorization tags"})]})]})]}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"})]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Flag Key Naming",type:"tip",children:(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.strong,{children:"kebab-case"})," for flag keys: ",(0,i.jsx)(n.code,{children:"dark-mode"}),", ",(0,i.jsx)(n.code,{children:"new-checkout-flow"}),", ",(0,i.jsx)(n.code,{children:"max-retry-count"}),".\nFlag keys are case-sensitive. Use string literals in code for static analysis compatibility."]})}),"\n",(0,i.jsx)(n.h3,{id:"flag-types-purpose",children:"Flag Types (Purpose)"}),"\n",(0,i.jsxs)(n.p,{children:["Flag types describe the ",(0,i.jsx)(n.strong,{children:"purpose"})," of the flag, not its data type:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Flag Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"release"})}),(0,i.jsx)(n.td,{children:"Control feature rollout to users"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"experiment"})}),(0,i.jsx)(n.td,{children:"A/B testing and experimentation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"operational"})}),(0,i.jsx)(n.td,{children:"Operational controls (rate limits, circuit breakers)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"killSwitch"})}),(0,i.jsx)(n.td,{children:"Emergency toggle to disable a feature"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"permission"})}),(0,i.jsx)(n.td,{children:"Access control based on user attributes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"remoteConfig"})}),(0,i.jsx)(n.td,{children:"Remote configuration values (game balance, UI settings, etc.)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"value-types",children:"Value Types"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default Fallback"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"True/false toggle"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Text value"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'""'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"dark-theme"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Numeric value"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"100"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"json"})}),(0,i.jsx)(n.td,{children:"Complex object"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{}"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'{ "limit": 10, "theme": "modern" }'})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"per-environment-settings",children:"Per-Environment Settings"}),"\n",(0,i.jsx)(n.p,{children:"Each flag can have different settings per environment:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Setting"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isEnabled"})}),(0,i.jsx)(n.td,{children:"Whether the flag is active in this environment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enabledValue"})}),(0,i.jsx)(n.td,{children:"Override the global enabled value (optional)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"disabledValue"})}),(0,i.jsx)(n.td,{children:"Override the global disabled value (optional)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"strategies"})}),(0,i.jsx)(n.td,{children:"Targeting rules specific to this environment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"variants"})}),(0,i.jsx)(n.td,{children:"Variant distribution specific to this environment"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"example-\ud658\uacbd\ubcc4-\uc124\uc815-environment-specific-settings",children:"Example: \ud658\uacbd\ubcc4 \uc124\uc815 (Environment-Specific Settings)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Flag: "new-checkout-flow" (boolean)\n\u251c\u2500\u2500 Global: enabledValue=true, disabledValue=false\n\u251c\u2500\u2500 development: isEnabled=true  (no strategies \u2192 always enabled)\n\u251c\u2500\u2500 staging:     isEnabled=true  (strategy: userId IN ["tester-1", "tester-2"])\n\u2514\u2500\u2500 production:  isEnabled=true  (strategy: rollout 10%, stickiness=userId)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"strategies",children:"Strategies"}),"\n",(0,i.jsxs)(n.p,{children:["Strategies are ",(0,i.jsx)(n.strong,{children:"per-environment"})," targeting rules that determine which users receive the enabled value. Strategies are evaluated in ",(0,i.jsx)(n.code,{children:"sortOrder"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"strategy-evaluation-flow",children:"Strategy Evaluation Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Flag isEnabled?\n  \u251c\u2500 NO  \u2192 Return disabledValue (reason: "disabled")\n  \u2514\u2500 YES \u2192 Active strategies exist?\n       \u251c\u2500 NO  \u2192 Return enabledValue (reason: "default")\n       \u2514\u2500 YES \u2192 For each strategy (by sortOrder):\n            1. Check segment constraints (ALL must pass)\n            2. Check strategy constraints (ALL must pass)\n            3. Check rollout percentage\n            \u2514\u2500 If ALL pass \u2192 Return enabledValue (reason: "strategy_match")\n       \u2514\u2500 No strategy matched \u2192 Return disabledValue (reason: "default")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"strategy-parameters",children:"Strategy Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rollout"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Percentage of users (0\u2013100) who receive the enabled value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"stickiness"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Context field for consistent bucketing (",(0,i.jsx)(n.code,{children:"userId"}),", ",(0,i.jsx)(n.code,{children:"sessionId"}),", ",(0,i.jsx)(n.code,{children:"random"}),", or custom)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"groupId"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Group identifier for rollout bucketing (defaults to flag name)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"rollout-bucketing",children:"Rollout Bucketing"}),"\n",(0,i.jsxs)(n.p,{children:["Rollout uses ",(0,i.jsx)(n.strong,{children:"MurmurHash v3"})," for deterministic bucketing:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'seed = "{groupId}:{stickinessValue}"\nhash = murmurhash_v3(seed)\npercentage = (hash % 10000) / 100   // 0.00 ~ 99.99\n'})}),"\n",(0,i.jsx)(n.p,{children:"This ensures:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Same user always gets the same result for the same flag"}),"\n",(0,i.jsx)(n.li,{children:"Distribution is uniform across users"}),"\n",(0,i.jsx)(n.li,{children:"Rollout percentage can be increased without re-bucketing existing users"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"constraints",children:"Constraints"}),"\n",(0,i.jsxs)(n.p,{children:["Constraints are conditions that must be satisfied for a strategy to match. All constraints within a strategy use ",(0,i.jsx)(n.strong,{children:"AND"})," logic (all must pass)."]}),"\n",(0,i.jsx)(n.h3,{id:"constraint-structure",children:"Constraint Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'interface Constraint {\n  contextName: string;       // Context field to check (e.g., "userId", "country")\n  operator: ConstraintOperator;\n  value?: string;           // For single-value operators\n  values?: string[];        // For multi-value operators (IN, etc.)\n  caseInsensitive?: boolean; // String comparison case sensitivity\n  inverted?: boolean;       // Negate the result\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"operators-by-type",children:"Operators by Type"}),"\n",(0,i.jsx)(n.h4,{id:"string-operators",children:"String Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_eq"})}),(0,i.jsx)(n.td,{children:"Equals"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'country str_eq "KR"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_contains"})}),(0,i.jsx)(n.td,{children:"Contains substring"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'email str_contains "@company.com"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_starts_with"})}),(0,i.jsx)(n.td,{children:"Starts with prefix"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'userId str_starts_with "test_"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_ends_with"})}),(0,i.jsx)(n.td,{children:"Ends with suffix"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'email str_ends_with ".kr"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_in"})}),(0,i.jsx)(n.td,{children:"In list"}),(0,i.jsx)(n.td,{children:"multiple"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'country str_in ["KR", "JP", "US"]'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"str_regex"})}),(0,i.jsx)(n.td,{children:"Matches regular expression"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'email str_regex "^admin@.*"'})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"number-operators",children:"Number Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_eq"})}),(0,i.jsx)(n.td,{children:"Equals"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"level num_eq 10"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_gt"})}),(0,i.jsx)(n.td,{children:"Greater than"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"level num_gt 50"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_gte"})}),(0,i.jsx)(n.td,{children:"Greater than or equal"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"level num_gte 50"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_lt"})}),(0,i.jsx)(n.td,{children:"Less than"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"age num_lt 18"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_lte"})}),(0,i.jsx)(n.td,{children:"Less than or equal"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"age num_lte 18"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"num_in"})}),(0,i.jsx)(n.td,{children:"In list"}),(0,i.jsx)(n.td,{children:"multiple"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"level num_in [1, 5, 10]"})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"boolean-operators",children:"Boolean Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool_is"})}),(0,i.jsx)(n.td,{children:"Is true/false"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isPremium bool_is true"})})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"date-operators",children:"Date Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date_eq"})}),(0,i.jsx)(n.td,{children:"Equals"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'registerDate date_eq "2025-01-01"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date_gt"})}),(0,i.jsx)(n.td,{children:"After"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'registerDate date_gt "2025-01-01"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date_gte"})}),(0,i.jsx)(n.td,{children:"On or after"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'registerDate date_gte "2025-01-01"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date_lt"})}),(0,i.jsx)(n.td,{children:"Before"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'registerDate date_lt "2025-06-01"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"date_lte"})}),(0,i.jsx)(n.td,{children:"On or before"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'registerDate date_lte "2025-06-01"'})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"semver-operators",children:"Semver Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_eq"})}),(0,i.jsx)(n.td,{children:"Equals"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_eq "2.0.0"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_gt"})}),(0,i.jsx)(n.td,{children:"Greater than"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_gt "1.5.0"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_gte"})}),(0,i.jsx)(n.td,{children:"Greater than or equal"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_gte "1.5.0"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_lt"})}),(0,i.jsx)(n.td,{children:"Less than"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_lt "3.0.0"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_lte"})}),(0,i.jsx)(n.td,{children:"Less than or equal"}),(0,i.jsx)(n.td,{children:"single"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_lte "3.0.0"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"semver_in"})}),(0,i.jsx)(n.td,{children:"In list"}),(0,i.jsx)(n.td,{children:"multiple"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'appVersion semver_in ["2.0.0", "2.1.0"]'})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"common-operators-type-agnostic",children:"Common Operators (Type-Agnostic)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"exists"})}),(0,i.jsx)(n.td,{children:"Field has a value"}),(0,i.jsx)(n.td,{children:"none"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"userId exists"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"not_exists"})}),(0,i.jsx)(n.td,{children:"Field has no value"}),(0,i.jsx)(n.td,{children:"none"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"userId not_exists"})})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"array-operators",children:"Array Operators"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Value Type"}),(0,i.jsx)(n.th,{children:"Example"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"arr_any"})}),(0,i.jsx)(n.td,{children:"Array contains any of the target values"}),(0,i.jsx)(n.td,{children:"multiple"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'tags arr_any ["vip", "beta"]'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"arr_all"})}),(0,i.jsx)(n.td,{children:"Array contains all of the target values"}),(0,i.jsx)(n.td,{children:"multiple"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'tags arr_all ["vip", "premium"]'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"arr_empty"})}),(0,i.jsx)(n.td,{children:"Array is empty or doesn't exist"}),(0,i.jsx)(n.td,{children:"none"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tags arr_empty"})})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"the-inverted-flag",children:["The ",(0,i.jsx)(n.code,{children:"inverted"})," Flag"]}),"\n",(0,i.jsxs)(n.p,{children:["Every constraint supports an ",(0,i.jsx)(n.code,{children:"inverted"})," boolean. When ",(0,i.jsx)(n.code,{children:"true"}),", the constraint result is negated:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"str_eq + inverted:true  \u2192 NOT equals (\u2260)\nstr_in + inverted:true  \u2192 NOT in list\nexists + inverted:true  \u2192 NOT exists\n"})}),"\n",(0,i.jsx)(n.h2,{id:"segments",children:"Segments"}),"\n",(0,i.jsxs)(n.p,{children:["Segments are ",(0,i.jsx)(n.strong,{children:"global"}),", reusable sets of constraints. They can be referenced by any strategy in any environment."]}),"\n",(0,i.jsx)(n.h3,{id:"segment-structure",children:"Segment Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface FeatureSegment {\n  name: string;\n  constraints: Constraint[];  // All must pass (AND logic)\n  isActive: boolean;          // UI display only, NOT used in evaluation\n}\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:[(0,i.jsx)(n.code,{children:"isActive"})," Is UI-Only"]}),(0,i.jsxs)(n.p,{children:["Segment's ",(0,i.jsx)(n.code,{children:"isActive"})," field controls ",(0,i.jsx)(n.strong,{children:"visibility in the admin UI only"}),". It does ",(0,i.jsx)(n.strong,{children:"not"})," affect evaluation. Even inactive segments are evaluated normally when referenced by a strategy."]})]}),"\n",(0,i.jsx)(n.h3,{id:"creating-a-segment",children:"Creating a Segment"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"Feature Flags"})," > ",(0,i.jsx)(n.strong,{children:"Segments"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create Segment"})]}),"\n",(0,i.jsxs)(n.li,{children:["Define constraints (e.g., ",(0,i.jsx)(n.code,{children:'country str_in ["KR", "JP"]'})," AND ",(0,i.jsx)(n.code,{children:"isPremium bool_is true"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Save"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"using-segments-in-strategies",children:"Using Segments in Strategies"}),"\n",(0,i.jsxs)(n.p,{children:["Strategies can reference segments. When evaluating, segment constraints are checked ",(0,i.jsx)(n.strong,{children:"before"})," strategy constraints:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Strategy evaluation order:\n1. Segment constraints (ALL referenced segments must pass)\n2. Strategy constraints (ALL must pass)\n3. Rollout percentage check\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-beta-testers-segment",children:"Example: Beta Testers Segment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "segmentName": "beta-testers",\n  "constraints": [\n    { "contextName": "userId", "operator": "str_in", "values": ["user-001", "user-002", "user-003"] }\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"context",children:"Context"}),"\n",(0,i.jsx)(n.p,{children:"Context represents the current user/session and drives all targeting rules."}),"\n",(0,i.jsx)(n.h3,{id:"evaluation-context-structure",children:"Evaluation Context Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface EvaluationContext {\n  userId?: string;\n  sessionId?: string;\n  appName?: string;\n  appVersion?: string;\n  remoteAddress?: string;\n  environment?: string;\n  currentTime?: Date;\n  properties?: Record<string, string | number | boolean | string[]>;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"built-in-context-fields",children:"Built-in Context Fields"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"userId"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Unique user identifier \u2014 primary stickiness key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sessionId"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Session identifier \u2014 auto-generated if not provided"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"appName"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Application name from SDK config"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"appVersion"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Application version (supports semver comparison)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"remoteAddress"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Client IP address (provided by server during evaluation)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"custom-context-fields-properties",children:"Custom Context Fields (Properties)"}),"\n",(0,i.jsx)(n.p,{children:"Custom properties support four types:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Example Operators"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Text values"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"str_eq"}),", ",(0,i.jsx)(n.code,{children:"str_contains"}),", ",(0,i.jsx)(n.code,{children:"str_in"}),", ",(0,i.jsx)(n.code,{children:"str_regex"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Numeric values"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"num_eq"}),", ",(0,i.jsx)(n.code,{children:"num_gt"}),", ",(0,i.jsx)(n.code,{children:"num_lt"}),", ",(0,i.jsx)(n.code,{children:"num_in"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"True/false values"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool_is"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"List of string values"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"arr_any"}),", ",(0,i.jsx)(n.code,{children:"arr_all"}),", ",(0,i.jsx)(n.code,{children:"arr_empty"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"predefined-custom-fields",children:"Predefined Custom Fields"}),"\n",(0,i.jsx)(n.p,{children:"Gatrix provides commonly used context fields out of the box:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Key"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"userLevel"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"User's current level in the game"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"country"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Country code (ISO 3166-1 alpha-2)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"platform"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Device platform (ios, android, web, windows, mac, linux)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"language"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Preferred language (ko, en, ja, zh, ...)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isPremium"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"Premium subscription status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"registrationDate"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Days since registration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lastLoginDate"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Days since last login"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"totalPurchases"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Total purchase amount (USD)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gameMode"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Current game mode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tags"})}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{children:"Custom tags assigned to user"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"variants",children:"Variants"}),"\n",(0,i.jsxs)(n.p,{children:["Variants enable ",(0,i.jsx)(n.strong,{children:"A/B testing"})," with weighted distribution. Variants are defined ",(0,i.jsx)(n.strong,{children:"per-environment"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"variant-structure",children:"Variant Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface FeatureVariant {\n  variantName: string;     // Unique identifier within the flag\n  weight: number;          // Weight for distribution (0\u2013100)\n  value?: any;             // Variant-specific value\n  valueType: ValueType;    // Same as flag's valueType\n  weightLock?: boolean;    // Lock this variant's weight during redistribution\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"variant-selection",children:"Variant Selection"}),"\n",(0,i.jsx)(n.p,{children:"When a flag has variants, one is selected based on the user's context:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'percentage = murmurhash_v3("{flagName}-variant:{stickinessValue}") % 10000 / 100\ntargetWeight = percentage / 100 * totalWeight\n\nCumulative weight check:\n  Variant A (weight: 50) \u2192 0\u201350%\n  Variant B (weight: 30) \u2192 50\u201380%\n  Variant C (weight: 20) \u2192 80\u2013100%\n'})}),"\n",(0,i.jsx)(n.h3,{id:"reserved-variant-names",children:"Reserved Variant Names"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Meaning"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$default"})}),(0,i.jsx)(n.td,{children:"Default variant (no variants defined)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$disabled"})}),(0,i.jsx)(n.td,{children:"Flag is disabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$missing"})}),(0,i.jsx)(n.td,{children:"Flag does not exist in cache"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"$config"})}),(0,i.jsx)(n.td,{children:"Flag uses configuration value"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"sdk-usage",children:"SDK Usage"}),"\n",(0,i.jsx)(n.h3,{id:"available-client-sdks",children:"Available Client SDKs"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"SDK"}),(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Package"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"JavaScript/TypeScript"})}),(0,i.jsx)(n.td,{children:"JS/TS"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@gatrix/js-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"React"})}),(0,i.jsx)(n.td,{children:"JS/TS"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@gatrix/react-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Vue"})}),(0,i.jsx)(n.td,{children:"JS/TS"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@gatrix/vue-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Svelte"})}),(0,i.jsx)(n.td,{children:"JS/TS"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@gatrix/svelte-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Unity"})}),(0,i.jsx)(n.td,{children:"C#"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-unity-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Unreal Engine"})}),(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-unreal-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cocos2d-x"})}),(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-cocos2dx-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Flutter"})}),(0,i.jsx)(n.td,{children:"Dart"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-flutter-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Godot"})}),(0,i.jsx)(n.td,{children:"GDScript"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-godot-client-sdk"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Python"})}),(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"gatrix-python-client-sdk"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"sdk-lifecycle",children:"SDK Lifecycle"}),"\n",(0,i.jsx)(n.p,{children:"All client SDKs follow the same lifecycle pattern:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Constructor \u2192 init() \u2192 start() \u2192 [polling loop] \u2192 stop()\n                \u2502          \u2502\n                \u2502          \u2514\u2500 First fetch \u2192 "flags.ready" event\n                \u2514\u2500 Load from cache/bootstrap \u2192 "flags.init" event\n'})}),"\n",(0,i.jsx)(n.h3,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { GatrixClient } from '@gatrix/js-client-sdk';\n\nconst client = new GatrixClient({\n  // Required\n  apiUrl: 'https://edge.your-api.com/api/v1',\n  apiToken: 'your-client-api-token',\n  appName: 'my-app',\n  environment: 'production',\n\n  // Optional\n  refreshInterval: 30,        // Poll interval in seconds (default: 30)\n  explicitSyncMode: false,    // Buffer changes until syncFlags() (default: false)\n  disableRefresh: false,      // Disable automatic polling (default: false)\n  offlineMode: false,         // No network requests (default: false)\n  disableMetrics: false,      // Disable metrics collection (default: false)\n\n  // Initial context\n  context: {\n    userId: 'user-123',\n    properties: {\n      country: 'KR',\n      level: 42,\n      isPremium: true,\n    },\n  },\n});\n\nawait client.start();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"apiUrl"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"required"})}),(0,i.jsx)(n.td,{children:"Edge API or Backend URL"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"apiToken"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"required"})}),(0,i.jsx)(n.td,{children:"Client API token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"appName"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"required"})}),(0,i.jsx)(n.td,{children:"Application name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"environment"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"required"})}),(0,i.jsx)(n.td,{children:"Environment name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"refreshInterval"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"30"})}),(0,i.jsx)(n.td,{children:"Seconds between polls (1\u201386400)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"disableRefresh"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Disable automatic polling"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"explicitSyncMode"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsxs)(n.td,{children:["Buffer changes, apply with ",(0,i.jsx)(n.code,{children:"syncFlags()"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"offlineMode"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"No network requests; requires bootstrap or cache"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bootstrap"})}),(0,i.jsx)(n.td,{children:"array"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Initial flags for instant availability"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bootstrapOverride"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Override cached flags with bootstrap"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"disableMetrics"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Disable metrics collection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"impressionDataAll"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Track impressions for all flags"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enableDevMode"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsxs)(n.td,{children:["Detailed debug logging (prefixed with ",(0,i.jsx)(n.code,{children:"[DEV]"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cacheKeyPrefix"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"gatrix_cache"'})}),(0,i.jsx)(n.td,{children:"Prefix for storage keys"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"customHeaders"})}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Additional HTTP headers"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storageProvider"})}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"localStorage"}),(0,i.jsx)(n.td,{children:"Custom storage provider"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"flag-access-methods",children:"Flag Access Methods"}),"\n",(0,i.jsx)(n.h4,{id:"basic-access",children:"Basic Access"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const features = client.features;\n\n// Check if flag is enabled (returns flag.enabled, NOT variant value)\nconst isEnabled = features.isEnabled('dark-mode');\n\n// Check if a flag exists in cache\nconst exists = features.hasFlag('dark-mode');\n\n// Get all flags\nconst allFlags = features.getAllFlags();\n"})}),"\n",(0,i.jsx)(n.h4,{id:"typed-variations-fallback-value-required",children:"Typed Variations (Fallback Value Required)"}),"\n",(0,i.jsxs)(n.p,{children:["All variation methods ",(0,i.jsx)(n.strong,{children:"require"})," a fallback value. This ensures your application always receives a valid value, even during failures."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Boolean value (from variant.value, NOT flag.enabled)\nconst darkMode = features.boolVariation('dark-mode', false);\n\n// String value\nconst theme = features.stringVariation('theme-name', 'light');\n\n// Number value (JS/TS SDK only \u2014 see note below)\nconst maxItems = features.numberVariation('max-items', 10);\n\n// JSON value\nconst config = features.jsonVariation('feature-config', { enabled: false });\n\n// Variant name (not value)\nconst variantName = features.variation('ab-test', 'control');\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:[(0,i.jsx)(n.code,{children:"isEnabled()"})," vs ",(0,i.jsx)(n.code,{children:"boolVariation()"})]}),(0,i.jsxs)(n.p,{children:["These serve ",(0,i.jsx)(n.strong,{children:"completely different"})," purposes:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"isEnabled('flag')"})})," \u2192 Returns whether the flag is ",(0,i.jsx)(n.strong,{children:"turned on"})," (",(0,i.jsx)(n.code,{children:"flag.enabled"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"boolVariation('flag', false)"})})," \u2192 Returns the ",(0,i.jsx)(n.strong,{children:"boolean value"})," from the variant (",(0,i.jsx)(n.code,{children:"variant.value"}),")"]}),"\n"]}),(0,i.jsxs)(n.p,{children:["For simple boolean flags without variants, they may return the same result, but they are semantically different. Use ",(0,i.jsx)(n.code,{children:"boolVariation"})," when you need the actual flag value."]})]}),"\n",(0,i.jsxs)(n.admonition,{title:"Number Types in Non-JS SDKs",type:"important",children:[(0,i.jsxs)(n.p,{children:["JavaScript/TypeScript SDKs provide ",(0,i.jsx)(n.code,{children:"numberVariation()"})," because TypeScript's ",(0,i.jsx)(n.code,{children:"number"})," covers both integers and floats."]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"All other SDKs"})," use type-specific functions:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"intVariation(flagName, fallbackValue)"})," / ",(0,i.jsx)(n.code,{children:"intVariationOrThrow(flagName)"})," \u2014 Returns integer"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"floatVariation(flagName, fallbackValue)"})," / ",(0,i.jsx)(n.code,{children:"floatVariationOrThrow(flagName)"})," \u2014 Returns float/double"]}),"\n"]}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"SDK"}),(0,i.jsx)(n.th,{children:"Integer Function"}),(0,i.jsx)(n.th,{children:"Float Function"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unity (C#)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IntVariation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FloatVariation()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unreal (C++)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IntVariation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FloatVariation()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cocos2d-x"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"intVariation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"floatVariation()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Flutter"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"intVariation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"doubleVariation()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Godot"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int_variation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float_variation()"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int_variation()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float_variation()"})})]})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"variation-details",children:"Variation Details"}),"\n",(0,i.jsx)(n.p,{children:"Get detailed information about the evaluation result:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const result = features.boolVariationDetails('dark-mode', false);\n// result.value      \u2192 true\n// result.reason     \u2192 \"strategy_match\"\n// result.flagExists \u2192 true\n// result.enabled    \u2192 true\n"})}),"\n",(0,i.jsx)(n.h4,{id:"strict-variations-orthrow",children:"Strict Variations (OrThrow)"}),"\n",(0,i.jsx)(n.p,{children:"Throw an error if the flag is not found, disabled, or has the wrong value type:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"try {\n  const value = features.boolVariationOrThrow('critical-flag');\n} catch (error) {\n  // GatrixFeatureError: flag not found, disabled, or wrong valueType\n}\n"})}),"\n",(0,i.jsx)(n.h4,{id:"flagproxy",children:"FlagProxy"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"getFlag()"})," method returns a ",(0,i.jsx)(n.code,{children:"FlagProxy"})," \u2014 a convenience wrapper with all variation methods:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const flag = features.getFlag('dark-mode');\n\nflag.exists;                    // boolean: does the flag exist?\nflag.enabled;                   // boolean: is the flag enabled?\nflag.name;                      // string: flag name\nflag.variant;                   // Variant: never null (uses $missing sentinel)\nflag.valueType;                 // 'boolean' | 'string' | 'number' | 'json'\nflag.version;                   // number: flag version\nflag.boolVariation(false);      // Delegates to FeaturesClient internally\nflag.stringVariation('default');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"context-management",children:"Context Management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Get current context\nconst ctx = features.getContext();\n\n// Update entire context (triggers re-fetch)\nawait features.updateContext({\n  userId: 'user-456',\n  properties: { country: 'JP' },\n});\n\n// Update a single context field (triggers re-fetch)\nawait features.setContextField('level', 42);\n\n// Remove a context field (triggers re-fetch)\nawait features.removeContextField('tempFlag');\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Context Update Performance",type:"caution",children:[(0,i.jsxs)(n.p,{children:["Every ",(0,i.jsx)(n.code,{children:"updateContext()"})," / ",(0,i.jsx)(n.code,{children:"setContextField()"})," / ",(0,i.jsx)(n.code,{children:"removeContextField()"})," call triggers a ",(0,i.jsx)(n.strong,{children:"network request"})," to re-evaluate flags. Avoid putting frequently changing values in context."]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Safe for context:"})," userId, country, plan, platform, appVersion\n",(0,i.jsx)(n.strong,{children:"Avoid in context:"})," timestamps, animation frames, counters, rapidly changing game state"]})]}),"\n",(0,i.jsx)(n.h3,{id:"watch-pattern-reactive-updates",children:"Watch Pattern (Reactive Updates)"}),"\n",(0,i.jsx)(n.p,{children:"Subscribe to individual flag changes for reactive UI updates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Watch for flag changes (fires only on change)\nconst unwatch = features.watchFlag('dark-mode', (flag) => {\n  console.log('Dark mode changed:', flag.boolVariation(false));\n});\n\n// Watch with initial state (fires immediately with current value, then on change)\nconst unwatch = features.watchFlagWithInitialState('dark-mode', (flag) => {\n  applyTheme(flag.boolVariation(false) ? 'dark' : 'light');\n});\n\n// Stop watching\nunwatch();\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"watchFlag and Flag Removal",type:"info",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"watchFlag"})," only reacts to ",(0,i.jsx)(n.code,{children:"created"})," and ",(0,i.jsx)(n.code,{children:"updated"})," events. It does ",(0,i.jsx)(n.strong,{children:"NOT"})," fire when a flag is removed from the server. To handle removals, subscribe to ",(0,i.jsx)(n.code,{children:"flags.removed"}),":"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"client.on('flags.removed', (removedFlagNames: string[]) => {\n  console.log('Removed flags:', removedFlagNames);\n});\n"})})]}),"\n",(0,i.jsx)(n.h4,{id:"watch-groups",children:"Watch Groups"}),"\n",(0,i.jsx)(n.p,{children:"Manage multiple watchers as a batch for easy cleanup:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const group = features.createWatchFlagGroup('ui-settings');\ngroup\n  .watchFlag('dark-mode', (flag) => updateTheme(flag))\n  .watchFlag('font-size', (flag) => updateFontSize(flag));\n\n// Unsubscribe all watchers at once\ngroup.unwatchAll();\n\n// Or destroy the group entirely\ngroup.destroy();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"explicit-sync-mode",children:"Explicit Sync Mode"}),"\n",(0,i.jsxs)(n.p,{children:["Critical for ",(0,i.jsx)(n.strong,{children:"games and real-time applications"})," where flag changes must not disrupt the current game loop or session."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const client = new GatrixClient({\n  // ...config\n  explicitSyncMode: true,\n});\n\n// Flags are fetched in background but NOT applied until syncFlags()\nclient.on('flags.pending_sync', () => {\n  showNotification('New settings available!');\n});\n\n// Apply changes at a safe point (scene transition, lobby, loading screen)\nawait features.syncFlags();\n"})}),"\n",(0,i.jsx)(n.h4,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Store"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"realtimeFlags"})}),(0,i.jsx)(n.td,{children:"Latest flags from server (always up to date)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"synchronizedFlags"})}),(0,i.jsx)(n.td,{children:"Flags your app reads from (updated on syncFlags)"})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Default reads come from ",(0,i.jsx)(n.code,{children:"synchronizedFlags"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"forceRealtime: true"})," to read from ",(0,i.jsx)(n.code,{children:"realtimeFlags"})," (useful for debug UIs)"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Read from synchronized store (default)\nconst enabled = features.isEnabled('my-feature');\n\n// Read from realtime store (for debug/dashboard)\nconst realtimeEnabled = features.isEnabled('my-feature', true);\n"})}),"\n",(0,i.jsx)(n.h4,{id:"runtime-mode-switching",children:"Runtime Mode Switching"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Enable explicit sync at runtime\nfeatures.setExplicitSyncMode(true);\n// \u2192 synchronizedFlags = realtimeFlags, pendingSync = false\n\n// Disable (immediately applies all pending changes)\nfeatures.setExplicitSyncMode(false);\n// \u2192 synchronizedFlags = realtimeFlags, pendingSync = false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Event"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Payload"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.init"})}),(0,i.jsx)(n.td,{children:"SDK initialized from storage/bootstrap"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.ready"})}),(0,i.jsx)(n.td,{children:"First successful fetch completed"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.fetch_start"})}),(0,i.jsx)(n.td,{children:"Started fetching"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ etag }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.fetch_success"})}),(0,i.jsx)(n.td,{children:"Fetch succeeded"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.fetch_error"})}),(0,i.jsx)(n.td,{children:"Fetch failed"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ status?, error? }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.fetch_end"})}),(0,i.jsx)(n.td,{children:"Fetch completed (success or error)"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.change"})}),(0,i.jsx)(n.td,{children:"Flags changed from server"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ flags }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.{name}.change"})}),(0,i.jsx)(n.td,{children:"Individual flag changed"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(newFlag, oldFlag, changeType)"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.removed"})}),(0,i.jsx)(n.td,{children:"Flags removed from server"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"string[]"})," (flag names)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.pending_sync"})}),(0,i.jsx)(n.td,{children:"Pending sync available (explicit sync mode)"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.impression"})}),(0,i.jsx)(n.td,{children:"Flag accessed (if impression tracking enabled)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ImpressionEvent"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.error"})}),(0,i.jsx)(n.td,{children:"General SDK error"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ type, error }"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.recovered"})}),(0,i.jsx)(n.td,{children:"Recovered from error state"}),(0,i.jsx)(n.td,{children:"\u2014"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"flags.metrics.sent"})}),(0,i.jsx)(n.td,{children:"Metrics sent successfully"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ count }"})})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Subscribe to events\nclient.on('flags.ready', () => {\n  console.log('SDK ready, flags loaded');\n});\n\nclient.on('flags.change', ({ flags }) => {\n  console.log('Flags updated:', flags.length);\n});\n\n// Per-flag change events\nclient.on('flags.dark-mode.change', (newFlag, oldFlag, changeType) => {\n  // changeType: 'created' | 'updated'\n  console.log(`dark-mode ${changeType}:`, newFlag);\n});\n\n// Subscribe to ALL events (debugging)\nclient.onAny((eventName, ...args) => {\n  console.log(`[gatrix] ${eventName}`, ...args);\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"polling--error-resilience",children:"Polling & Error Resilience"}),"\n",(0,i.jsx)(n.p,{children:"The SDK implements robust polling with exponential backoff:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Behavior"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Successful fetch"}),(0,i.jsxs)(n.td,{children:["Schedule next fetch after ",(0,i.jsx)(n.code,{children:"refreshInterval"})," seconds"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Retryable error"}),(0,i.jsxs)(n.td,{children:["Exponential backoff: ",(0,i.jsx)(n.code,{children:"min(initialBackoffMs * 2^(n-1), maxBackoffMs)"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Non-retryable (401, 403)"}),(0,i.jsxs)(n.td,{children:["Polling stops. Call ",(0,i.jsx)(n.code,{children:"fetchFlags()"})," manually to resume."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Recovery after errors"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"consecutiveFailures"})," resets, normal polling resumes"]})]})]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Polling Never Stops on Errors",type:"info",children:(0,i.jsxs)(n.p,{children:["Polling ",(0,i.jsx)(n.strong,{children:"always"})," continues after errors (except 401/403). The SDK uses exponential backoff but never permanently stops. This ensures resilience in production environments."]})}),"\n",(0,i.jsx)(n.h3,{id:"offline-mode--bootstrap",children:"Offline Mode & Bootstrap"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const client = new GatrixClient({\n  // ...config\n  offlineMode: true,              // No network requests\n  bootstrap: [                    // Initial flags for instant availability\n    { name: 'dark-mode', enabled: true, variant: { name: 'default', value: true } },\n  ],\n  bootstrapOverride: true,        // Override cached flags with bootstrap\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"storage-provider",children:"Storage Provider"}),"\n",(0,i.jsx)(n.p,{children:"SDKs support custom storage for flag caching:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"SDK"}),(0,i.jsx)(n.th,{children:"Default Storage"}),(0,i.jsx)(n.th,{children:"Custom Support"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"JS/TS"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"localStorage"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"IStorageProvider"})," interface"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unity"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PlayerPrefs"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IGatrixStorageProvider"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unreal"}),(0,i.jsxs)(n.td,{children:["File-based (",(0,i.jsx)(n.code,{children:"{Saved}/Gatrix/"}),")"]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IGatrixStorageProvider"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Flutter"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"SharedPreferences"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GatrixStorageProvider"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cocos2d-x"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"UserDefault"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IGatrixStorageProvider"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Godot"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ConfigFile"})}),(0,i.jsx)(n.td,{children:"Custom implementation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:"In-memory"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"StorageProvider"})," interface"]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"metrics",children:"Metrics"}),"\n",(0,i.jsx)(n.p,{children:"When metrics are enabled, the SDK automatically tracks and sends:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "appName": "MyApp",\n  "environment": "production",\n  "sdkName": "@gatrix/js-client-sdk",\n  "sdkVersion": "1.0.0",\n  "connectionId": "uuid-string",\n  "bucket": {\n    "start": "2024-01-01T00:00:00.000Z",\n    "stop": "2024-01-01T00:01:00.000Z",\n    "flags": {\n      "dark-mode": { "yes": 10, "no": 2, "variants": { "dark-theme": 7 } }\n    },\n    "missing": {\n      "unknown-flag": 5\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"yes"})," / ",(0,i.jsx)(n.code,{children:"no"})," \u2014 flag enabled/disabled access counts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"variants"})," \u2014 per-variant selection counts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"missing"})," \u2014 flags accessed but not found in cache"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sdk-statistics",children:"SDK Statistics"}),"\n",(0,i.jsx)(n.p,{children:"Debug and monitor SDK state at runtime:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const stats = features.getStats();\n// stats.totalFlagCount     \u2014 Total flags in cache\n// stats.fetchFlagsCount    \u2014 Number of fetch calls\n// stats.updateCount        \u2014 Successful updates\n// stats.errorCount         \u2014 Total fetch errors\n// stats.sdkState           \u2014 'initializing' | 'ready' | 'healthy' | 'error'\n// stats.missingFlags       \u2014 { \"unknown-flag\": 5 }\n// stats.etag               \u2014 Current ETag\n// stats.lastFetchTime      \u2014 Last fetch attempt timestamp\n"})}),"\n",(0,i.jsx)(n.h2,{id:"platform-specific-examples",children:"Platform-Specific Examples"}),"\n",(0,i.jsx)(n.h3,{id:"unity-c",children:"Unity (C#)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var config = new GatrixClientConfig {\n    ApiUrl = "https://edge.your-api.com/api/v1",\n    ApiToken = "your-token",\n    AppName = "my-game",\n    Environment = "production",\n    ExplicitSyncMode = true, // Recommended for games\n    Context = new GatrixContext {\n        UserId = playerId,\n        Properties = new Dictionary<string, object> {\n            { "level", playerLevel },\n            { "platform", "windows" }\n        }\n    }\n};\n\nvar client = new GatrixClient(config);\nawait client.Start();\n\n// Use int/float instead of number\nint maxRetries = client.Features.IntVariation("max-retries", 3);\nfloat gameSpeed = client.Features.FloatVariation("game-speed", 1.0f);\nbool darkMode = client.Features.BoolVariation("dark-mode", false);\n\n// Apply flag changes at scene transition\nif (client.Features.HasPendingSyncFlags()) {\n    await client.Features.SyncFlags();\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"unreal-engine-c",children:"Unreal Engine (C++)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'FGatrixClientConfig Config;\nConfig.ApiUrl = TEXT("https://edge.your-api.com/api/v1");\nConfig.ApiToken = TEXT("your-token");\nConfig.AppName = TEXT("my-game");\nConfig.Environment = TEXT("production");\nConfig.bExplicitSyncMode = true;\n\nTSharedPtr<FGatrixClient> Client = MakeShared<FGatrixClient>(Config);\nClient->Start();\n\n// Typed access\nbool bDarkMode = Client->GetFeatures()->BoolVariation("dark-mode", false);\nint32 MaxRetries = Client->GetFeatures()->IntVariation("max-retries", 3);\nfloat GameSpeed = Client->GetFeatures()->FloatVariation("game-speed", 1.0f);\nFString Theme = Client->GetFeatures()->StringVariation("theme", "default");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"flutter-dart",children:"Flutter (Dart)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"final client = GatrixClient(GatrixClientConfig(\n  apiUrl: 'https://edge.your-api.com/api/v1',\n  apiToken: 'your-token',\n  appName: 'my-app',\n  environment: 'production',\n  context: GatrixContext(\n    userId: userId,\n    properties: {'country': 'KR', 'isPremium': true},\n  ),\n));\n\nawait client.start();\n\nbool darkMode = client.features.boolVariation('dark-mode', false);\nint maxItems = client.features.intVariation('max-items', 10);\ndouble speed = client.features.doubleVariation('game-speed', 1.0);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"godot-gdscript",children:"Godot (GDScript)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-gdscript",children:'var config = GatrixClientConfig.new()\nconfig.api_url = "https://edge.your-api.com/api/v1"\nconfig.api_token = "your-token"\nconfig.app_name = "my-game"\nconfig.environment = "production"\nconfig.explicit_sync_mode = true\n\nvar client = GatrixClient.new(config)\nclient.start()\n\n# Typed access\nvar dark_mode = client.features.bool_variation("dark-mode", false)\nvar max_retries = client.features.int_variation("max-retries", 3)\nvar game_speed = client.features.float_variation("game-speed", 1.0)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from gatrix import GatrixClient, GatrixClientConfig, GatrixContext\n\nconfig = GatrixClientConfig(\n    api_url="https://edge.your-api.com/api/v1",\n    api_token="your-token",\n    app_name="my-app",\n    environment="production",\n    context=GatrixContext(\n        user_id="user-123",\n        properties={"country": "KR", "level": 42},\n    ),\n)\n\nclient = GatrixClient(config)\nawait client.start()\n\ndark_mode = client.features.bool_variation("dark-mode", False)\nmax_items = client.features.int_variation("max-items", 10)\nspeed = client.features.float_variation("game-speed", 1.0)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"http-headers",children:"HTTP Headers"}),"\n",(0,i.jsx)(n.p,{children:"All client SDKs include these headers on every request:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Header"}),(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X-API-Token"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{apiToken}"})}),(0,i.jsx)(n.td,{children:"Authentication token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X-Application-Name"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{appName}"})}),(0,i.jsx)(n.td,{children:"Application name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X-Connection-Id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{uuid}"})}),(0,i.jsx)(n.td,{children:"Unique per-SDK-instance ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X-SDK-Version"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{sdkName}/{version}"})}),(0,i.jsx)(n.td,{children:"SDK identification"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"X-Environment"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{environment}"})}),(0,i.jsx)(n.td,{children:"Environment (fetchFlags only)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"If-None-Match"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{etag}"})}),(0,i.jsx)(n.td,{children:"ETag for 304 support"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"evaluation-result",children:"Evaluation Result"}),"\n",(0,i.jsx)(n.p,{children:"The server returns evaluated flags in this format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "flags": [\n      {\n        "name": "dark-mode",\n        "enabled": true,\n        "variant": {\n          "name": "$default",\n          "enabled": true,\n          "value": true\n        },\n        "valueType": "boolean",\n        "version": 5,\n        "impressionData": false\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"evaluation-reasons",children:"Evaluation Reasons"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Reason"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enabled"})}),(0,i.jsx)(n.td,{children:"Flag is enabled, no strategies"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"disabled"})}),(0,i.jsx)(n.td,{children:"Flag is disabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"strategy_match"})}),(0,i.jsx)(n.td,{children:"A strategy matched the context"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"constraint_match"})}),(0,i.jsx)(n.td,{children:"A constraint matched"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rollout"})}),(0,i.jsx)(n.td,{children:"User falls within rollout percentage"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"default"})}),(0,i.jsx)(n.td,{children:"No strategies matched, using default"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"not_found"})}),(0,i.jsx)(n.td,{children:"Flag does not exist"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"error"})}),(0,i.jsx)(n.td,{children:"Evaluation error occurred"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"flag-design",children:"Flag Design"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use kebab-case"})," for flag keys \u2014 consistent and static-analysis friendly"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Choose the right flag type"})," \u2014 ",(0,i.jsx)(n.code,{children:"release"})," for feature rollouts, ",(0,i.jsx)(n.code,{children:"killSwitch"})," for emergency toggles, ",(0,i.jsx)(n.code,{children:"remoteConfig"})," for tuning values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Set meaningful disabled values"})," \u2014 Users should see sensible defaults when a flag is off"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"staleAfterDays"})]})," \u2014 Set a staleness threshold to identify flags that should be removed"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tag your flags"})," \u2014 Use tags for categorization and filtering"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sdk-usage-1",children:"SDK Usage"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Always provide fallback values"})," \u2014 Ensures resilience during network failures"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"boolVariation"})," over ",(0,i.jsx)(n.code,{children:"isEnabled"})]})," \u2014 Gets the actual variant value, not just the enabled state"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Explicit Sync Mode for games"})," \u2014 Prevents mid-frame/mid-session flag disruption"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Keep context minimal"})," \u2014 Avoid frequently changing values in context"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Call ",(0,i.jsx)(n.code,{children:"start()"})," once, ",(0,i.jsx)(n.code,{children:"stop()"})," once"]})," \u2014 SDK lifecycle should match your app lifecycle"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"watchFlag"})," for reactive UIs"]})," \u2014 Don't poll manually"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Handle ",(0,i.jsx)(n.code,{children:"flags.ready"})," before rendering"]})," \u2014 Prevent flicker from unloaded flags"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Flag reads are in-memory"})," \u2014 ",(0,i.jsx)(n.code,{children:"isEnabled"}),", ",(0,i.jsx)(n.code,{children:"*Variation"}),", ",(0,i.jsx)(n.code,{children:"getVariant"})," are safe in hot paths (game loops, render functions)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Context updates trigger network"})," \u2014 Debounce if driven by user input"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Batch flag watchers"})," \u2014 Use ",(0,i.jsx)(n.code,{children:"WatchFlagGroup"})," for cleaner lifecycle management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use bootstrap for instant loading"})," \u2014 Eliminates the loading gap before first fetch"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./segments",children:"Segments"})," \u2014 Reusable user group targeting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./environments",children:"Environments"})," \u2014 Environment-specific configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../sdks/client-side",children:"Client SDKs"})," \u2014 Platform-specific SDK documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../sdks/game-engines",children:"Game Engine SDKs"})," \u2014 Unity, Unreal, Godot, Cocos2d-x"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);