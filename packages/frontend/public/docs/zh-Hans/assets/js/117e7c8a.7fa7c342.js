"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8506],{3892(e,n,a){a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"api/server-sdk-api","title":"Server SDK API","description":"SDK for game servers to integrate with Gatrix.","source":"@site/docs/api/server-sdk-api.md","sourceDirName":"api","slug":"/api/server-sdk-api","permalink":"/docs/zh-Hans/api/server-sdk-api","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/gatrix/tree/main/docs/docs/api/server-sdk-api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Server SDK API"},"sidebar":"tutorialSidebar","previous":{"title":"\u5ba2\u6237\ufffd?API ?\ufffd\u6863","permalink":"/docs/zh-Hans/api/client-api"},"next":{"title":"Docker Deployment Guide","permalink":"/docs/zh-Hans/deployment/docker"}}');var r=a(4848),i=a(8453);const s={sidebar_position:2,sidebar_label:"Server SDK API"},l="Server SDK API",c={},d=[{value:"Installation",id:"installation",level:2},{value:"Initialization",id:"initialization",level:2},{value:"Feature Flags",id:"feature-flags",level:2},{value:"Get Boolean Value",id:"get-boolean-value",level:3},{value:"Get String Value",id:"get-string-value",level:3},{value:"Get Number Value",id:"get-number-value",level:3},{value:"Get JSON Value",id:"get-json-value",level:3},{value:"Get All Flags",id:"get-all-flags",level:3},{value:"Maintenance",id:"maintenance",level:2},{value:"Check Status",id:"check-status",level:3},{value:"Whitelist",id:"whitelist",level:2},{value:"Check Account",id:"check-account",level:3},{value:"Check IP",id:"check-ip",level:3},{value:"Game Worlds",id:"game-worlds",level:2},{value:"Register Instance",id:"register-instance",level:3},{value:"Update Status",id:"update-status",level:3},{value:"Events",id:"events",level:2},{value:"Send Event",id:"send-event",level:3},{value:"Error Handling",id:"error-handling",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"server-sdk-api",children:"Server SDK API"})}),"\n",(0,r.jsx)(n.p,{children:"SDK for game servers to integrate with Gatrix."}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install @gatrix/server-sdk\n# or\nyarn add @gatrix/server-sdk\n"})}),"\n",(0,r.jsx)(n.h2,{id:"initialization",children:"Initialization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { GatrixServerSDK } from '@gatrix/server-sdk';\n\nconst gatrix = new GatrixServerSDK({\n  apiKey: 'your-server-api-key',\n  environment: 'production',\n  // Optional\n  baseUrl: 'https://your-backend:45000',\n  cacheEnabled: true,\n  cacheTTL: 60000, // 1 minute\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"feature-flags",children:"Feature Flags"}),"\n",(0,r.jsx)(n.h3,{id:"get-boolean-value",children:"Get Boolean Value"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const isEnabled = await gatrix.featureFlags.getBoolValue('dark_mode', {\n  userId: 'user123',\n  country: 'KR'\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-string-value",children:"Get String Value"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const message = await gatrix.featureFlags.getStringValue('welcome_message', context);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-number-value",children:"Get Number Value"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const maxItems = await gatrix.featureFlags.getNumberValue('max_items', context);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-json-value",children:"Get JSON Value"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const config = await gatrix.featureFlags.getJsonValue('feature_config', context);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-all-flags",children:"Get All Flags"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const allFlags = await gatrix.featureFlags.getAllFlags(context);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"maintenance",children:"Maintenance"}),"\n",(0,r.jsx)(n.h3,{id:"check-status",children:"Check Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const status = await gatrix.maintenance.getCurrentStatus();\nif (status.isActive) {\n  // Server is under maintenance\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"whitelist",children:"Whitelist"}),"\n",(0,r.jsx)(n.h3,{id:"check-account",children:"Check Account"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const isWhitelisted = await gatrix.whitelist.isAccountWhitelisted('user123');\n"})}),"\n",(0,r.jsx)(n.h3,{id:"check-ip",children:"Check IP"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const isIpWhitelisted = await gatrix.whitelist.isIpWhitelisted('192.168.1.1');\n"})}),"\n",(0,r.jsx)(n.h2,{id:"game-worlds",children:"Game Worlds"}),"\n",(0,r.jsx)(n.h3,{id:"register-instance",children:"Register Instance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"await gatrix.gameWorlds.register({\n  worldId: 'world-1',\n  name: 'World 1',\n  region: 'KR',\n  capacity: 1000,\n  currentPlayers: 500,\n  status: 'online'\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"update-status",children:"Update Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"await gatrix.gameWorlds.updateStatus('world-1', {\n  currentPlayers: 600,\n  status: 'online'\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,r.jsx)(n.h3,{id:"send-event",children:"Send Event"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"await gatrix.events.send({\n  name: 'player_login',\n  userId: 'user123',\n  properties: {\n    platform: 'android',\n    version: '1.2.0'\n  }\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"try {\n  const value = await gatrix.featureFlags.getBoolValue('my_flag', context);\n} catch (error) {\n  if (error instanceof GatrixError) {\n    console.error('Gatrix error:', error.code, error.message);\n  }\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,n,a){a.d(n,{R:()=>s,x:()=>l});var t=a(6540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);