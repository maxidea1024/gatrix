---
slug: real-time-chat-server-setup
title: Gatrix Real-time Chat Server Setup Guide
authors: [gatrix-team]
tags: [gatrix, chat, tutorial, setup]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

Gatrix's real-time chat server uses Socket.IO and Redis clustering to provide high-performance messaging. This guide will walk you through setting up and optimizing the chat server step by step.

<!-- truncate -->

## ðŸš€ Chat Server Architecture

Gatrix chat server provides the following advanced features:

- **Socket.IO Based**: Automatically handles WebSockets and polling
- **Redis Clustering**: Synchronization across multiple instances
- **Message Broadcasting**: Capable of handling 100,000+ messages/sec
- **Real-time Monitoring**: Prometheus metrics collection
- **Auto-scaling**: Supports horizontal scaling out of the box

## ðŸ“¦ Installation and Setup

### 1. Basic Installation

<Tabs>
  <TabItem value="npm" label="npm" default>

```bash
# Navigate to chat server package
cd packages/chat-server

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env
```

  </TabItem>
  <TabItem value="yarn" label="yarn">

```bash
# Navigate to chat server package
cd packages/chat-server

# Install dependencies
yarn install

# Setup environment variables
cp .env.example .env
```

  </TabItem>
  <TabItem value="docker" label="Docker">

```bash
# Run full stack with Docker Compose
docker-compose up -d

# Or run chat server only
docker-compose up chat-server
```

  </TabItem>
</Tabs>

### 2. Environment Variables

<CodeBlock language="bash">
{`# Server Settings
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# Database

DB_HOST=localhost
DB_PORT=3306
DB_NAME=gatrix_chat
DB_USER=chat_user
DB_PASSWORD=your_password

# Redis Cluster

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

# Gatrix Main Server Integration

GATRIX_API_URL=http://localhost:5000
GATRIX_API_SECRET=shared_secret

# Performance Tuning

CLUSTER_ENABLED=true
WS_MAX_CONNECTIONS=10000
BROADCAST_BATCH_SIZE=1000`}

</CodeBlock>

## ðŸ”§ Core Features

### 1. Channel Management

```javascript
// Join channel with WebSocket
socket.emit('join_channel', {
  channelId: 'channel_123',
  userId: 'user_456',
});
```

### 2. Message Sending

```javascript
// Send message
socket.emit('send_message', {
  channelId: 'channel_123',
  content: 'Hello!',
  type: 'text',
});
```

## ðŸ“Š Performance Optimization

### Redis Cluster Configuration

```yaml
# docker-compose.yml
version: '3.8'
services:
  redis-cluster:
    image: redis:7-alpine
    command: redis-server --cluster-enabled yes --cluster-config-file nodes.conf --cluster-node-timeout 5000 --appendonly yes
```

## ðŸŽ¯ Conclusion

Gatrix chat server provides a complete solution for high-performance real-time communication.

---

**Related Resources**:

- [API Documentation](../../api/client-api)
- [GitHub Repository](https://github.com/motifgames/gatrix)
